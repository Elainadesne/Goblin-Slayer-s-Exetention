{
  "$meta": {
    "extensible": false,
    "strictSet": true,
    "required": ["主角", "关系列表", "敌人列表", "城镇"]
  },
  "主角": {
    "$meta": {
      "extensible": true,
      "strictSet": true,
      "required": [
        "姓名", "所在地","坐标", "职业", "经验等级", "职业经验", "职业点数", "种族", "潜力值",
        "生命值", "护甲值", "魔力值", "信仰力值", "疲劳度",
        "基础能力", "总能力", "历练值", "装备栏", "公会信息", "任务日志",
        "技能列表", "当前状态", "武器列表", "防具列表", "饰品列表",
        "消耗品列表", "材料与杂物列表", "金钱"
      ]
    },
    "姓名": "{{user}}",
    "所在地": [["野外"], "主角当前位置。数组结构：['野外'] 或 ['城镇名'] 或 ['城镇名', '具体地点名']。"],
    "坐标": [null,"主角当前位置地图坐标。数组结构：[x,y] 单位坐标距离大概500米,x为0则是大陆的西面尽头 y为0则是大陆的北面尽头,每次移动通过玩家现在的坐标与目标的大致坐标作简单线性计算更新移动后的坐标例:x = startX + progress * (endX - startX)"],
    "职业": {
      "$meta": { 
        "extensible": true, 
        "strictSet": true,
        "template": {
          "当前等级": 1,
          "最大等级": 10
        }
      }
    },
    "经验等级": 0,
    "职业经验": {
      "当前值": 0,
      "升级所需": 1000
    },
    "职业点数": 0,
    "种族": null,
    "潜力值": {
      "数值": null
    },
    "生命值": {
      "当前值": null,
      "最大值": null
    },
    "护甲值": {
      "当前值": 0,
      "最大值": 0
    },
    "魔力值": {
      "当前值": null,
      "最大值": null
    },
    "信仰力值": {
      "当前值": null,
      "最大值": null
    },
    "体力值": {
      "当前值": null,
      "最大值": null
    },
    "基础能力": {
      "$meta": {
        "extensible": true,
        "strictSet": true,
        "required": ["力量", "敏捷", "感知", "知识", "魅力", "魔力", "信仰力"]
      },
      "力量": { "当前值": null, "最大值": null },
      "敏捷": { "当前值": null, "最大值": null },
      "感知": { "当前值": null, "最大值": null },
      "知识": { "当前值": null, "最大值": null },
      "魅力": { "当前值": null, "最大值": null },
      "魔力": { "当前值": null, "最大值": null },
      "信仰力": { "当前值": null, "最大值": null }
    },
    "总能力": {
      "$meta": {
        "extensible": true,
        "strictSet": true,
        "required": ["力量", "敏捷", "感知", "知识", "魅力", "魔力", "信仰力"]
      },
      "力量": null,
      "敏捷": null,
      "感知": null,
      "知识": null,
      "魅力": null,
      "魔力": null,
      "信仰力": null
    },
    "历练值": {
      "$meta": {
        "extensible": true,
        "strictSet": true,
        "required": ["力量", "敏捷", "感知", "知识", "魅力", "魔力", "信仰力"]
      },
      "力量": { "当前值": 0, "突破所需": 100 },
      "敏捷": { "当前值": 0, "突破所需": 100 },
      "感知": { "当前值": 0, "突破所需": 100 },
      "知识": { "当前值": 0, "突破所需": 100 },
      "魅力": { "当前值": 0, "突破所需": 100 },
      "魔力": { "当前值": 0, "突破所需": 100 },
      "信仰力": { "当前值": 0, "突破所需": 100 }
    },
    "装备栏": {
      "$meta": {
        "extensible": true,
        "strictSet": true,
        "required": ["武器", "副手", "防具", "饰品"]
      },
      "武器": null,
      "副手": null,
      "防具": {
        "$meta": {
          "extensible": true,
          "strictSet": true,
          "required": ["头部", "身体", "手部", "腿部", "内衬"]
        },
        "头部": null,
        "身体": null,
        "手部": null,
        "腿部": null,
        "内衬": null
      },
      "饰品": null
    },
    "公会信息": {
      "所属公会": "无",
      "公会阶级": "无阶级",
      "当前贡献度": 0,
      "晋级所需贡献": null
    },
    "任务日志": {
      "$meta": {
        "extensible": true,
        "strictSet": true,
        "required": ["进行中", "已完成"]
      },
      "进行中": { "$meta": { "extensible": true, "strictSet": true } },
      "已完成": { "$meta": { "extensible": true, "strictSet": true } }
    },
    "技能列表": {
      "$meta": { 
        "extensible": true, 
        "strictSet": true,
        "template": {
          "type": "主动",
          "level": "初级", 
          "description": "",
          "cost": ""
        }
      }
    },
    "当前状态": {
      "$meta": { 
        "extensible": true, 
        "strictSet": true,
        "template": {
          "description": "",
          "level": "1",
          "attributes_bonus": {
            "$meta": {"extensible": true}
          },
          "special_effects": {
            "$meta": {"extensible": true}
          },
          "type": "临时"
        }
      }
    },
    "武器列表": {
      "$meta": { 
        "extensible": true, 
        "strictSet": true,
        "template": {
          "type": "武器",
          "tier": "普通",
          "description": "",
          "attributes_bonus": {
            "$meta": {"extensible": true}
          },
          "hands": "单手",
          "special_effects": {
            "$meta": {"extensible": true}
          },
          "quantity": 1
        }
      }
    },
    "防具列表": {
      "$meta": { 
        "extensible": true, 
        "strictSet": true,
        "template": {
          "type": "防具",
          "tier": "普通",
          "description": "",
          "armor_value": 0,
          "attributes_bonus": {
            "$meta": {"extensible": true}
          },
          "special_effects": {
            "$meta": {"extensible": true}
          },
          "quantity": 1
        }
      }
    },
    "饰品列表": {
      "$meta": { 
        "extensible": true, 
        "strictSet": true,
        "template": {
          "type": "饰品",
          "tier": "普通",
          "description": "",
          "attributes_bonus": {
            "$meta": {"extensible": true}
          },
          "special_effects": {
            "$meta": {"extensible": true}
          },
          "quantity": 1
        }
      }
    },
    "消耗品列表": {
      "$meta": { 
        "extensible": true, 
        "strictSet": true,
        "template": {
          "type": "消耗品",
          "description": "",
          "quantity": 1
        }
      }
    },
    "材料与杂物列表": {
      "$meta": { 
        "extensible": true, 
        "strictSet": true,
        "template": {
          "type": "材料",
          "description": "",
          "quantity": 1
        }
      }
    },
    "金钱": {
      "金币": 0,
      "银币": 0,
      "铜币": 0
    }
  },
  "关系列表": {
    "$meta": {
      "extensible": true,
      "strictSet": true,
      "template": {
        "姓名": "",
        "职业": "",
        "职业等级": 1,
        "种族": "",
        "is_companion": false,
        "在场": false,
        "生命值": {
          "当前值": null,
          "最大值": null
        },
        "护甲值": {
          "当前值": 0,
          "最大值": 0
        },
        "魔力值": {
          "当前值": 0,
          "最大值": 0
        },
        "信仰力值": {
          "当前值": 0,
          "最大值": 0
        },
        "体力值": {
          "当前值": 0,
          "最大值": null
        },
        "基础能力": {
          "力量": {"当前值": 5, "最大值": 50},
          "敏捷": {"当前值": 5, "最大值": 50},
          "感知": {"当前值": 5, "最大值": 50},
          "知识": {"当前值": 5, "最大值": 50},
          "魅力": {"当前值": 5, "最大值": 50},
          "魔力": {"当前值": 0, "最大值": 0},
          "信仰力": {"当前值": 0, "最大值": 0}
        },
        "总能力": {
          "力量": 5,
          "敏捷": 5,
          "感知": 5,
          "知识": 5,
          "魅力": 5,
          "魔力": 0,
          "信仰力": 0
        },
        "装备栏": {
          "武器": null,
          "副手": null,
          "防具": {
            "头部": null,
            "身体": null,
            "手部": null,
            "腿部": null,
            "内衬": null
          },
          "饰品": null
        },
        "技能列表": {
          "$meta": {"extensible": true}
        },
        "公会信息": {
          "所属公会": "无",
          "公会阶级": "无阶级",
          "当前贡献度": 0
        },
        "身份背景": "",
        "性格标签": ["$__META_EXTENSIBLE__$"],
        "外貌": "",
        "称呼": "",
        "好感度": {
          "$meta": {"extensible": true}
        },
        "信任度": {
          "$meta": {"extensible": true}
        },
        "性趣度": 0,
        "性欲度": 0,
        "所处地点": "",
        "event_history": {
          "$meta": {"extensible": true}
        }
      }
    }
  },
  "敌人列表": {
    "$meta": {
      "extensible": true,
      "strictSet": true,
      "template": {
        "类型": "人形",
        "生命值": {
          "当前值": null,
          "最大值": null
        },
        "护甲值": {
          "当前值": 0,
          "最大值": 0
        },
        "魔力值": {
          "当前值": 0,
          "最大值": 0
        },
        "信仰力值": {
          "当前值": 0,
          "最大值": 0
        },
        "总能力": {
          "力量": null,
          "敏捷": null,
          "感知": null,
          "知识": null,
          "魅力": null,
          "魔力": 0,
          "信仰力": 0
        },
        "装备栏": {
          "$meta": {"extensible": true}
        },
        "备注": ""
      }
    }
  }
,
"地图位标": {
    "$meta": {
      "extensible": true,
      "strictSet": true,
      "template": {
        "$meta": {
          "extensible": true,
          "strictSet": true,
          "required": ["名称", "坐标", "类型", "临时", "概况"]
        },
        "名称": [null, "地图上显示给玩家查看的目标区域名称，如xx洞窟,xx平原,xx丘陵,xx森林"],
        "坐标": [[0,0], "必须填写，通过计算相对某些地标的方位与距离得出的结果，数组结构：[x,y] 单位坐标距离大概500米"],
        "类型": ["调查", "位标的类型，主要根据与主角相关的任务类型修改，默认不填写。如填写则必须是以下几类之一战斗讨伐、护卫运输、探索采集、杂物、调查"],
        "临时": [false, "设置为true后应该下次检查时被删除"],
        "概况": [null, "位标附近的地理地貌特征的描述，应尽量简短有效"]
      }
    }
  },
  "玩家产业": {
    "$meta": {
      "extensible": true,
      "strictSet": true,
      "template": {
        "$meta": {
          "extensible": true,
          "strictSet": true,
          "required": ["整体描述", "功能设施", "规模", "效益", "今日清单", "所属城镇", "类型"]
        },
        "整体描述": [null, "店铺本体信息（房屋结构/朝向/街巷/地标），可补充晨/午/暮的时间感与风/味/声/光影氛围；避免与功能设施/规模/效益雷同。"],
        "功能设施": [null, "必须使用二元数组结构：[总述数组, 详述字符串]。总述数组示例：['蒸馏台×3','材料仓×1','售卖柜台×1','分装桌×1','冷却水路×1','调剂柜×1']；详述示例：'蒸馏台：晨间预热后投入溶媒，学徒按刻度更换冷凝瓶，药液收入细颈瓶并以蜡封；材料仓：石砌库格按‘干药/湿材/金属器’分区，潮天用炭盘吸潮并晚间复核；售卖柜台：靠门侧，分‘诊所凭证’与‘散客’两列；分装桌：称量与贴签处，秤砣每日校准；冷却水路：沿墙走管，傍晚放水与检查渗漏。'。禁止仅提供总述数组；若缺失详述，AI应依据变量系统规则自动生成并补全。"],
        "规模": [null, "影响范围与联通（市集/行会/港口）、供需秩序；必须包含人员配置：常驻工人/雇员/学徒数量与高峰/市集日临时人力范围。"],
        "效益": [null, "以可观察现象呈现忙闲与客流变化，并与‘城镇效益’联动；末尾写“当日利润：约 N（币种）”；利润不自动入账，需主角到访或联系结算方可入账。"],
        "今日清单": [null, "当日可验证的事务：补货/定制/巡检/接待/清洁/报修/收货/送货等，建议3–7条，可按时间切片。"],
        "所属城镇": [null, "该产业所属的城镇名，用于强语义归属判断；缺失时前端回退到文本匹配。"],
        "类型": [null, "产业类型，如“行政”（领主权/行政权）、“工坊”、“商店”等，用于精确展示与逻辑判定。"]
      }
    }
  },
  "城镇": {
    "$meta": {
      "extensible": true,
      "strictSet": true,
      "template": {
        "$meta": {
          "extensible": true,
          "strictSet": true,
          "required": ["城镇名字", "整体描述", "城镇效益", "所有者", "产业"]
        },
        "城镇名字": [null, "城镇的官方名称。"],
        "整体描述": [null, "对城镇风貌、文化、氛围的综合描述。"],
        "城镇效益": [null, "描述城镇当前正在经历的特殊效果或事件，如‘丰收节’、‘商业繁荣’、‘瘟疫’等，AI可据此调整产业描述。"],
        "所有者": [null, "城镇所有者，如“主角”“玩家派系”；用于判定玩家领地与展示徽章。"],
        "产业": {
          "$meta": {
            "extensible": true,
            "strictSet": true,
            "template": {
              "$meta": {
                "extensible": true,
                "strictSet": true,
                "required": ["整体描述", "功能设施", "规模", "效益", "今日清单"]
              },
              "整体描述": [null, "店铺本体信息（房屋结构/朝向/街巷/地标），可补充晨/午/暮的时间感与风/味/声/光影氛围；避免与功能设施/规模/效益雷同。"],
              "功能设施": [null, "必须使用二元数组结构：[总述数组, 详述字符串]。总述数组示例：['蒸馏台×2','材料仓×1','售卖柜台×1','分装桌×1','冷却水路×1']；详述示例：'蒸馏台：晨间预热后投入溶媒，学徒按刻度更换冷凝瓶，药液收入细颈瓶并以蜡封；材料仓：石砌库格按‘干药/湿材/金属器’分区，潮天用炭盘吸潮并晚间复核；售卖柜台：靠门侧，分‘诊所凭证’与‘散客’两列；分装桌：称量与贴签处，秤砣每日校准；冷却水路：沿墙走管，傍晚放水与检查渗漏。'。禁止仅提供总述数组；若缺失详述，AI应依据变量系统规则自动生成并补全。"],
              "规模": [null, "影响范围与联通（市集/行会/港口）、供需秩序；必须包含人员配置：常驻工人/雇员/学徒数量与高峰/市集日临时人力范围。"],
              "效益": [null, "以可观察现象呈现忙闲与客流变化，并与‘城镇效益’联动；末尾写“当日利润：约 N（币种）”；利润不自动入账，需主角到访或联系结算方可入账。"],
              "今日清单": [null, "当日可验证的事务：补货/定制/巡检/接待/清洁/报修/收货/送货等，建议3–7条，可按时间切片。"]
            }
          }
        }
      }
    }
  }
}